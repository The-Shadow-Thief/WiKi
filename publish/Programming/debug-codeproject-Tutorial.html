<?xml version="1.0" encoding="gbk"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Debug Turorial in Code Poject Site</title>
    <meta name="generator" content="emacs-wiki.el" />
    <meta http-equiv="Content-Type"
          content="text/html; charset=utf-8" />
    <link rel="made" href="mailto:art.of.war.sunzi@gmail.com" />
    <link rel="home" href="../Programming/WelcomePage.html" />
    <link rel="index" href="../WiKiIndex.html.html" />
    <link rel="stylesheet" type="text/css" href="../css/core.css">
  </head>
  <body>

    <!-- If you want a menu, uncomment the following lines and
    put (require 'emacs-wiki-menu) in your Emacs setup somewhere.

    
    -->

    <h1 id="top">Debug Turorial in Code Poject Site</h1>

    <!-- Page published by Emacs Wiki begins here -->
<p>
<h2>Turorial 1 Introduction</h2>

<p>
the stack struct:

</p>

<pre class="example">High Address
--------------------
[Parameter n]     ==  [EBP + n*4 + 4] (The formula)
...
[Parameter 2]     ==  [EBP + 12]
[Parameter 1]     ==  [EBP + 8]
[Return Address]  ==  [EBP + 4]
[Previous EBP]    ==  [EBP + 0]
...
--------------------
Low Address. it's stack top.
Generally, it's EBP + Value to get to function parameters and EBP - Value to get to local variables.
so we can get the return address for EBP+4
</pre>

<p>
There are overflow and underflow situation.

</p>

<p>
I will use the "DDS" command which means 'Dump Dwords with Symbols' so DDS ebp.

</p>

<p>
the return address is not the function start address!!

</p>

<p>
In windows 2003. take a like cookie to check the return address whether changed

</p>

<h2>Tutorial 2: Stack</h2>

<p>
the code is 

</p>

<pre class="example">void test()
{
      DWORD MyArray[4];
      int Index;
}
</pre>

<p>
the stack is 

</p>

<pre class="example">424 [Return Address               ]
420 [ Previous Base Pointer       ]
416 [ Local Array Variable Index 3]
412 [ Local Array Variable Index 2]
408 [ Local Array Variable Index 1]
404 [ Local Array Variable Index 0]
400 [ Local Integer Value         ]
</pre>

<h2>Tutorial 3: Heap</h2>

</p>

<p>
<a href="debug.html">UP</a>
</p>
    <!-- Page published by Emacs Wiki ends here -->
    <div class="navfoot">
      <hr />
      <table width="100%" border="0" summary="Footer navigation">
        <col width="33%" /><col width="34%" /><col width="33%" />
        <tr>
          <td align="left">
            <span class="footdate">Updated: 2012-02-01</span>
          </td>
          <td align="center">
            <span class="foothome">
              <a href="../WiKiIndex.html">Index</a>
            </span>
          </td>
          <td align="right">
            
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
