<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Singleton</title>
    <meta name="generator" content="emacs-wiki.el" />
    <meta http-equiv="Content-Type"
          content="text/html; charset=utf-8" />
    <link rel="made" href="mailto:art.of.war.sunzi@gmail.com" />
    <link rel="home" href="../Programming/WelcomePage.html" />
    <link rel="index" href="../WiKiIndex.html.html" />
    <link rel="stylesheet" type="text/css" href="../css/core.css">
  </head>
  <body>

    <!-- If you want a menu, uncomment the following lines and
    put (require 'emacs-wiki-menu) in your Emacs setup somewhere.

    
    -->

    <h1 id="top">Singleton</h1>

    <!-- Page published by Emacs Wiki begins here -->
<p>
<h2>Problem</h2>

<ol>
<li>在实际的coding过程中，需要内存只保存一份一个对象，这种情况下就用到单体。
例如线程池，连接等一下稀奇的资源通常情况下采用的单体的设计模式。
</li>
<li>在面对多线程使用单体的情况下，怎么保证对象的唯一性。
</li>
</ol>

<h2>Implement</h2>

<pre class="example">singleton pattern: ensures the class only one instance,
and provide global point of access to it.
</pre>

<ol>
<li>内存中只有一个实例。
</li>
<li>与static有一定关系，但是有与全局的变量有着区别。1 static调试起来比较困难；2 打乱了namespace已经class的封装性。
</li>
<li>其实现是有一个privagte的构造函数，这样保证了class之外不能够随意的进行创建改对象。
</li>
<li>singleton是lazy instance.
</li>
<li>在多线程的场景下，通过一下双锁、early instance、以及语言中的关键词来实现。
</li>
</ol>

<h2>UML</h2>

<p>
<a href="singleton.gif"><img src="singleton.gif" alt="UML" /></a>

</p>

<p>
该pattern比较简单，具体可以看code，code中实现了上面所说的三种方法。

</p>

<h2>Code</h2>

<p>
code: ~/cs/designpattern/singleton.cs

</p>

<p>
同时提供多线程的测试情况。

</p>

<h2>Summary</h2>

<p>
简单但很实用，尤其是在处理多线程的情况下的实现。

</p>

<p>
</p>

</p>

<p>
<a href="designpattern.html">UP</a>
</p>
    <!-- Page published by Emacs Wiki ends here -->
    <div class="navfoot">
      <hr />
      <table width="100%" border="0" summary="Footer navigation">
        <col width="33%" /><col width="34%" /><col width="33%" />
        <tr>
          <td align="left">
            <span class="footdate">Updated: 2012-02-01</span>
          </td>
          <td align="center">
            <span class="foothome">
              <a href="../WiKiIndex.html">Index</a>
            </span>
          </td>
          <td align="right">
            
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
