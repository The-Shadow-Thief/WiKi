<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>python Class</title>
    <meta name="generator" content="emacs-wiki.el" />
    <meta http-equiv="Content-Type"
          content="text/html; charset=utf-8" />
    <link rel="made" href="mailto:art.of.war.sunzi@gmail.com" />
    <link rel="home" href="../Programming/WelcomePage.html" />
    <link rel="index" href="../WiKiIndex.html.html" />
    <link rel="stylesheet" type="text/css" href="../css/core.css">
  </head>
  <body>

    <!-- If you want a menu, uncomment the following lines and
    put (require 'emacs-wiki-menu) in your Emacs setup somewhere.

    
    -->

    <h1 id="top">python Class</h1>

    <!-- Page published by Emacs Wiki begins here -->
<p>
<p>

</p>

<p>
上了首先看看代码中的类吧：
<pre class="example">import os, sys, codecs, re, time
from urllib import urlopen
from threading import Timer
import random

class URLView:
    urlcontent = ''
    url = 'http://www.bangbenw.com/bxtd/wnsf'
    times = 1
    
    def __init__(self,times=1, url='http://www.bangbenw.com/bxtd/wnsf'):
        self.url = url
        self.times = times
  
    def runstep(self):
        self.open_mainurl()
        self.getSubUrl()
        for url_t in self.subUrlList:
            url_temp = self.url + url_t
            self.open_suburl(url_temp)
            time.sleep(random.randint(10,100))
    
    def open_suburl(self, url):
        urlopen(url).read()
        print url

    def open_mainurl(self):
        self.urlcontent = urlopen(self.url).read()
        #time.sleep()

    def getSubUrl(self):
        self.subUrlList = re.findall(r'href=&quot;\.(.*?shtml)&quot;', self.urlcontent,re.M)

    
    def runfast(self):
        self.runstep()
        self.times = self.times-1
        print times
        if times &lt; 0:
            pass
        else:
            Timer(random.randint(10,100), runfast).start()


urlView = URLView(2)
urlView.runfast()
</pre>
<ul>

<ol>
<li>python class的构造函数是__init__
</li>
<li>python class的函数的第一个参数默认是self
</li>
<li>在class中调用class的变量、函授要有self.为前缀，表示引用的是class内部的成员
</ul>
</li>
</ol>

<p>
<a href="python.html">UP</a>
</p>
    <!-- Page published by Emacs Wiki ends here -->
    <div class="navfoot">
      <hr />
      <table width="100%" border="0" summary="Footer navigation">
        <col width="33%" /><col width="34%" /><col width="33%" />
        <tr>
          <td align="left">
            <span class="footdate">Updated: 2012-02-01</span>
          </td>
          <td align="center">
            <span class="foothome">
              <a href="../WiKiIndex.html">Index</a>
            </span>
          </td>
          <td align="right">
            
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
